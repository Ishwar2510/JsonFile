{
  "tabs": [
    {
      "key": "overview",
      "title": "Overview",
      "order": "1",
      "type": "metrics",
      "queriesList": [
        {
          "query": "sum by (hostname) (target_info{ostype=~'linux|windows',hostname=~'.*'})",
          "chart_type": "Table",
          "name": "Atom Status",
          "schema": "target_info",
          "options": {
            "label": "Actual",
            "order": 1,
            "description": "Atom Status",
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(avg(sum by (hostname) (round(100 - system_cpu_utilization_ratio{ostype=~'linux',state=~'idle',hostname=~'.*'}*100, 0.1))), 0.01)",
          "chart_type": "gauge",
          "name": "CPU Utilization",
          "schema": "system_cpu_utilization_ratio",
          "options": {
            "label": "% (Avg of Avg)",
            "upperLimit": "",
            "order": 3,
            "zone": {
              "alert": 60,
              "danger": 80
            },
            "description": "CPU Utilization",
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(avg(sum by (hostname) (round(system_memory_utilization_ratio{ostype=~'linux',state=~'used',hostname=~'.*'}*100, 0.1))), 0.01)",
          "chart_type": "gauge",
          "name": "Machine Memory Utilization",
          "schema": "system_memory_utilization_ratio",
          "options": {
            "label": "% (Avg of Avg)",
            "zone": {
              "alert": 60,
              "danger": 80
            },
            "order": 2,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(avg by (hostname) (system_cpu_load_average_5m{ostype=~'linux',hostname=~'.*'}), 0.01)*100",
          "chart_type": "counter",
          "name": "Load Average",
          "schema": "system_cpu_load_average_1m",
          "options": {
            "label": "",
            "order": 6,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "avg(sum by (hostname) (round(jvm_uptime{ostype=~'linux',hostname=~'.*'}/3600000)))",
          "chart_type": "counter",
          "name": "JVM Uptime",
          "schema": "jvm_uptime",
          "options": {
            "label": "Hours",
            "upperLimit": "",
            "order": 7,
            "description": "Average uptime across all nodes",
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "100 * (sum by (device) (system_filesystem_usage_bytes{ostype=~'linux',hostname=~'.*', job='prom-metrics-collector', state='used',type='ext4',hostname=~'.*'}) /sum by (device) (system_filesystem_usage_bytes{ostype=~'linux',hostname=~'.*', job='prom-metrics-collector', state=~'free|used'}))",
          "chart_type": "disk",
          "name": "Local Storage Space",
          "schema": "system_filesystem_usage_bytes",
          "options": {
            "label": "%",
            "order": 8,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "(sum by (hostname) (avg_over_time(system_filesystem_inodes_usage{ostype=~'linux',device=~'.*',hostname=~'.*'}[5m])))&duration=1h&step=1m",
          "chart_type": "line",
          "name": "Local Storage iNodes",
          "schema": "system_filesystem_inodes_usage",
          "options": {
            "label": "Average inodes",
            "order": 9,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "value",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "hostname",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(sum(system_filesystem_usage_bytes{ostype=~'linux',type='ext4'})/(1024*1024*1024),0.01)",
          "chart_type": "counter",
          "name": "Shared Storage Space",
          "schema": "system_filesystem_usage_bytes",
          "options": {
            "label": "GiB",
            "order": 10,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "GiB",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "(sum by (hostname) (system_filesystem_inodes_usage{ostype=~'linux',mountpoint='/',hostname=~'.*'}))",
          "chart_type": "counter",
          "name": "Shared Storage iNodes",
          "schema": "system_filesystem_inodes_usage",
          "options": {
            "label": "Total",
            "order": 4,
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "Count",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        },
        {
          "query": "round(avg(sum by (hostname) (open_fd_count{ostype=~'linux'})),1)",
          "chart_type": "counter",
          "name": "Open File Descriptors",
          "schema": "open_fd_count",
          "options": {
            "label": "Average Open FD's",
            "order": 5,
            "descriptions": "Open FDs",
            "plot": {
              "xLabel": "Timestamp",
              "yLabel": "File Descriptors",
              "x": "Timestamp",
              "y": [
                "value"
              ],
              "groupBy": "",
              "errorColumn": ""
            }
          },
          "data_source_name": "Apica Monitoring"
        }
      ]
    },
    {
      "key": "alerts",
      "title": "Alerts",
      "order": "9",
      "type": "alerts"
    }
  ],
  "header": {
    "dateTimeRange": true,
    "dropdowns": [
      {
        "atom": {
          "query": "sum by (hostname) (target_info{ostype=~'linux|windows',runtime=~'.*'})",
          "name": "Atom Selection",
          "data_source_name": "Apica Monitoring"
        }
      },
      {
        "runtime": {
          "query": "target_info",
          "name": "Runtime selection",
          "data_source_name": "Apica Monitoring"
        }
      }
    ]
  }
}
